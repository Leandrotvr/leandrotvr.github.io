<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>PingPongPanic3</title>
  <link rel="stylesheet" href="pingpongpanic3.css" />
</head>
<body>
  <div class="wrap">
    <h1>Pong 3 jugadores â€” <span class="p1">P1: q/a</span> Â· <span class="p2">P2: p/Ã±</span> Â· <span class="p3">P3: v/b</span></h1>

    <div class="hud">
      <div class="badge p1">Goles P1: <span id="s1">0</span></div>
      <div class="badge p2">Goles P2: <span id="s2">0</span></div>
      <div class="badge p3">Goles P3: <span id="s3">0</span></div>
      <div class="badge">Tiempo: <span id="time">60.0</span>s</div>
      <div class="badge" id="status">Listo</div>
    </div>

    <div class="stage">
      <canvas id="game" width="900" height="520" aria-label="Pong 3 jugadores"></canvas>

      <!-- PorterÃ­as fijas en el centro (estilos aleatorios) -->
      <div id="goal-left" class="goal"></div>
      <div id="goal-right" class="goal"></div>
      <div id="goal-bottom" class="goal bottom"></div>
    </div>

    <div class="controls">
      <button id="btnStart">â–¶ï¸ Iniciar / Reanudar</button>
      <button id="btnPause">â¸ï¸ Pausa</button>
      <button id="btnReset">âŸ² Reiniciar</button>
    </div>

    <p class="rules">
      Reglas: la pelota que pasa por tu lado es gol en contra. Gana quien reciba <b>menos</b> goles en 60s.
      P1=izquierda (q/a), P2=derecha (p/Ã±), P3=abajo (v/b).
    </p>
  </div>

  <section class="games">
    <h2>ğŸ® Juegos</h2>
    <ul>
      <li><a href="pingpongpanic3.html">ğŸ‘‰ Jugar PingPongPanic3</a></li>
    </ul>
  </section>

  <script src="pingpongpanic3.js"></script>
  <script>
    // CSS classes disponibles para los marcos de porterÃ­a
    const styles = Array.from({length:20}, (_,i)=>`goal-style-${i+1}`);
    function randomStyle(){ return styles[Math.floor(Math.random()*styles.length)]; }
    function setRandomGoals(){
      ['goal-left','goal-right','goal-bottom'].forEach(id=>{
        const el=document.getElementById(id);
        el.className = 'goal ' + (id==='goal-bottom'?'bottom ':'') + randomStyle();
      });
    }
    // Inicializa; tambiÃ©n se vuelve a aplicar en cada gol desde el JS principal
    setRandomGoals();
    window.addEventListener('goalScored', setRandomGoals);
  </script>
</body>
</html>

